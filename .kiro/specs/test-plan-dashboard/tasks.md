# 测试计划看板 - 任务列表

## 阶段一：数据库和后端基础

- [ ] 1. 创建数据库表结构
  - [ ] 1.1 创建 test_plans 表
  - [ ] 1.2 创建 test_plan_datasets 关联表
  - [ ] 1.3 创建 daily_statistics 统计缓存表
  - [ ] 1.4 更新 database_schema.sql 文件

- [ ] 2. 创建看板服务层
  - [ ] 2.1 创建 services/dashboard_service.py
  - [ ] 2.2 实现统计数据聚合方法
  - [ ] 2.3 实现测试计划 CRUD 方法
  - [ ] 2.4 实现数据同步方法

- [ ] 3. 创建看板路由
  - [ ] 3.1 创建 routes/dashboard.py
  - [ ] 3.2 实现概览统计 API (/api/dashboard/overview)
  - [ ] 3.3 实现每日统计 API (/api/dashboard/daily)
  - [ ] 3.4 实现学科统计 API (/api/dashboard/subjects)
  - [ ] 3.5 实现数据集概览 API (/api/dashboard/datasets)
  - [ ] 3.6 实现测试计划 CRUD API (/api/dashboard/plans)
  - [ ] 3.7 实现手动同步 API (/api/dashboard/sync)

## 阶段二：前端页面开发

- [ ] 4. 创建看板样式
  - [ ] 4.1 创建 static/css/dashboard.css
  - [ ] 4.2 实现统计卡片样式
  - [ ] 4.3 实现图表容器样式
  - [ ] 4.4 实现测试计划卡片样式
  - [ ] 4.5 实现响应式布局

- [ ] 5. 创建看板脚本
  - [ ] 5.1 创建 static/js/dashboard.js
  - [ ] 5.2 实现数据加载和渲染
  - [ ] 5.3 实现日期筛选功能
  - [ ] 5.4 实现图表绑定（准确率趋势、学科分布）
  - [ ] 5.5 实现测试计划管理交互

- [ ] 6. 修改首页模板
  - [ ] 6.1 备份原 index.html 为 chat.html
  - [ ] 6.2 重构 index.html 为看板页面
  - [ ] 6.3 保留侧边栏导航结构
  - [ ] 6.4 添加看板内容区域
  - [ ] 6.5 添加聊天入口链接

## 阶段三：AI测试计划生成

- [ ] 7. 实现AI生成功能
  - [ ] 7.1 在 dashboard_service.py 添加 AI 生成方法
  - [ ] 7.2 实现数据集分析逻辑
  - [ ] 7.3 构建测试计划生成提示词
  - [ ] 7.4 实现 /api/dashboard/ai-plan API
  - [ ] 7.5 前端添加 AI 生成按钮和弹窗

## 阶段四：数据同步和优化

- [ ] 8. 实现数据同步机制
  - [ ] 8.1 实现批量任务扫描和解析
  - [ ] 8.2 实现统计数据聚合和存储
  - [ ] 8.3 添加首次访问自动同步逻辑
  - [ ] 8.4 记录最后同步时间

- [ ] 9. 测试和优化
  - [ ] 9.1 编写 API 单元测试
  - [ ] 9.2 测试数据同步正确性
  - [ ] 9.3 优化页面加载性能
  - [ ] 9.4 修复发现的问题

## 阶段五：集成和部署

- [ ] 10. 集成和文档
  - [ ] 10.1 注册看板蓝图到 app.py
  - [ ] 10.2 更新导航菜单链接
  - [ ] 10.3 更新部署脚本
  - [ ] 10.4 编写功能使用说明

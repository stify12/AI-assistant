{
  "messages": [
    {
      "role": "user",
      "content": "帮我优化以下提示词让ai准确理解我的意思：添加批量评估功能，用户在学科评估界面可以进入批量评估页面，首先要新建一个任务，然后读取数据库中zp_book_chapter和zp_make_book的字段来生成图书表格，点击对应科目的图书进去，书本名称等要自动获取为中文，点击展示改书本所有的页码即可，然后可以在上方点击添加数据集，方便添加改书本对应页码的基准效果数据，工作流程是当Ai批改完作业后，我可以新建任务，选择我要评估的数据库里面的作业任务，然后把我选择的所有作业任务依次排列在一个界面，要是没有基准效果，作业任务下方可以选择自动识别和单次评估一样，基准效果自动从数据集中对应匹配，然后依次评估，每一次评估在该界面只展示准确率，然后可以点击去查看具体的评估数据，评估完成后生成该次任务的总体情况，可以调用ai进行评估和生成excel文档"
    },
    {
      "role": "assistant",
      "content": "下面是对你这段需求的「优化版提示词」，分成两个版本：**产品需求版（给产品/开发）** 和 **AI 协作版（给大模型看）**。你可以根据用途选择使用。\n\n---\n\n## 一、产品需求版（结构化，给产品/开发看）\n\n**功能名称：** 批量评估功能（用于学科评估模块）\n\n### 1. 入口与整体流程\n1. 在【学科评估】界面新增入口，进入【批量评估】页面。\n2. 在【批量评估】页面，用户首先需要**新建一个批量评估任务**。\n3. 新建任务后，系统从数据库中读取 `zp_book_chapter` 和 `zp_make_book` 的相关字段，生成一个**图书列表表格**。\n\n### 2. 图书列表与书本信息\n1. 图书列表中按学科展示图书，可按科目筛选或分组。\n2. 从 `zp_make_book` / `zp_book_chapter` 中自动获取书本信息，并满足：\n   - 书名、章节名等信息**自动转换并展示为中文**（若数据库中为其他语言或编码）。\n3. 用户点击某一科目的某本书，即可进入该书的详情评估界面。\n\n### 3. 书本详情页：页码与数据集\n1. 进入书本详情页后：\n   - 系统展示该书**所有页码列表**（可分页或分章节展示）。\n2. 在页面上方提供【添加数据集】按钮：\n   - 可为该书对应的页码**添加基准效果数据集**（例如：标准答案或人工批改结果）。\n   - 一个数据集可以包含多个页码及其标准结果，用于后续对 AI 批改结果进行对比评估。\n\n### 4. 新建批量评估任务的工作流程\n1. 当 AI 批改完作业后，教师/管理员可以：\n   - 进入【批量评估】页面，点击【新建任务】。\n   - 在新建任务中，从数据库中选择要评估的**作业任务**（支持多选）。\n2. 系统将用户选择的所有作业任务**依次排列在同一界面**，形成一个待评估列表。\n\n### 5. 基准效果的匹配与评估方式\n1. 对于每个作业任务：\n   - 如果已有对应的**基准效果数据集**：\n     - 系统自动根据书本、页码等信息，从数据集中匹配对应的基准效果。\n   - 如果**没有基准效果数据集**：\n     - 在该作业任务下方提供选项：\n       - 【自动识别】：与当前的单次评估逻辑一致，由系统/AI自动生成基准效果。\n       - 或其它人工设置方式（可按需扩展）。\n2. 系统按照任务列表顺序，对所选作业任务**依次进行评估**。\n\n### 6. 评估结果展示与详情\n1. 在批量评估任务的列表界面：\n   - 每个作业任务仅展示一个核心指标：**准确率**（或“评估得分”）。\n   - 支持分页和筛选（例如按准确率排序）。\n2. 用户可点击某一作业任务的结果：\n   - 进入该任务的**评估详情页面**，查看：\n     - 逐题/逐页的评估数据（AI结果 vs 基准效果）。\n     - 各类错误类型、统计指标（如精确率、召回率等，如有需要）。\n\n### 7. 任务整体报告与导出\n1. 当一次批量评估任务执行完成后：\n   - 系统生成该任务的**总体评估报告**，包括：\n     - 总体准确率、各科目/各书本/各页码的统计概览。\n     - 关键问题聚合（如常错题型等，视后续需求扩展）。\n2. 可以调用 AI 对此次任务的整体结果进行**智能总结与分析**，生成：\n   - 文本形式的评估报告（例如教学建议、错误分布分析）。\n3. 支持一键导出为 **Excel 文档**：\n   - Excel 中包含整体统计、各作业任务的指标、以及必要的明细数据。\n\n---\n\n## 二、AI 协作版提示词（直接给大模型看的）\n\n下面是你可以直接给 AI（如做产品设计、生成接口文档等）使用的提示词版本，已经尽量转成 AI 易懂的指令风格：\n\n> 请根据以下需求，设计并描述一个「批量评估功能」，用于学科评估场景。  \n> 功能目标：能对 AI 已批改的多份作业进行批量评估，与预先准备或自动生成的基准效果对比，计算准确率，生成报告，并支持导出 Excel。\n>\n> **具体需求：**\n> 1. 入口与任务：\n>    - 在「学科评估」界面新增「批量评估」入口。\n>    - 进入批量评估页面后，用户首先需要「新建任务」才能开始操作。\n>\n> 2. 图书数据来源与展示：\n>    - 系统从数据库表 `zp_book_chapter` 和 `zp_make_book` 读取字段，生成图书列表。\n>    - 书本名称、章节名称等信息需要自动转换为「中文」展示（如果源数据是其他语言或编码）。\n>    - 图书按科目/学科展示，用户可以点击某个科目的某本书进入书本详情。\n>\n> 3. 书本详情页：\n>    - 进入书本详情页后，系统展示该书对应的所有页码列表（可以按章节或分页方式）。\n>    - 在页面上方提供「添加数据集」入口：\n>      - 用于为该书、本书特定页码添加「基准效果数据集」（例如标准答案或人工批改结果）。\n>      - 一个数据集可以包含多页内容及其标准结果，用于后续对 AI 批改结果的对比评估。\n>\n> 4. 批量评估任务流程：\n>    - 前置条件：AI 已经完成对部分作业的批改，结果已存入数据库。\n>    - 用户在批量评估页面点击「新建任务」：\n>      - 在数据库中选择需要评估的「作业任务」（支持多选）。\n>      - 系统将用户选中的所有作业任务依次排列在同一个界面，形成待评估列表。\n>\n> 5. 基准效果匹配与评估方式：\n>    - 对每个作业任务，需要有一个「基准效果」用于对比：\n>      - 如果该作业对应的书本和页码已经在「数据集」中配置了基准效果：\n>        - 系统应自动根据书本、页码等字段，从数据集中匹配对应的基准效果数据。\n>      - 如果没有基准效果数据集：\n>        - 在该作业任务下方提供选项：\n>          - 「自动识别」：与当前单次评估功能一致，由系统/AI自动推断或生成基准效果。\n>    - 系统按列表顺序，对所有选中的作业任务进行「依次评估」。\n>\n> 6. 评估结果展示：\n>    - 在批量评估任务的主界面，对于每一个作业任务，只展示关键指标「准确率」（或类似简要得分）。\n>    - 用户可以点击某一项，进入该作业任务的「评估详情」：\n>      - 展示 AI 批改结果与基准效果的逐题/逐页对比。\n>      - 展示必要的统计信息（例如每页准确率、错误类型分类等，如有可能请设计结构）。\n>\n> 7. 任务总体报告与导出：\n>    - 当一个批量评估任务中的所有作业评估完成后：\n>      - 生成该任务的「总体评估报告」，包括总体准确率、按书本/页码/题型的统计情况等。\n>      - 调用 AI 对这次任务的评估结果做「总结与分析」，形成文字报告（例如教学诊断、建议等）。\n>    - 提供导出功能：\n>      - 可以生成一个 Excel 文档，包含：\n>        - 总体概览（整体准确率、各作业任务指标）\n>        - 各作业任务的明细数据（可按行列结构设计）。\n>\n> 请在设计时：\n> - 明确前端页面结构（入口、列表页、详情页的基本布局和关键字段）。\n> - 明确后端大致数据流：从 `zp_book_chapter`、`zp_make_book`、作业任务表、数据集表到评估结果表。\n> - 说明评估准确率计算的基本逻辑（可以用抽象的字段名描述，不需写具体代码）。\n> - 说明在哪里需要调用 AI（如自动识别基准效果、生成总结报告等），以及输入输出大致格式。\n> - 输出结果时，请使用结构化小标题进行说明，方便产品和开发理解和实现。\n\n---\n\n如果你希望我再帮你把这段提示词改成「接口文档/原型说明/表结构设计」的版本，也可以把你现有的表字段发给我，我可以直接按字段名写得更精确。",
      "model": "gpt-5.1"
    }
  ],
  "created_at": "2026-01-09T09:39:05.979040",
  "updated_at": "2026-01-09T09:40:34.352190",
  "title": "帮我优化以下提示词让"
}
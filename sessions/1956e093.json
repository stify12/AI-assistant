{
  "messages": [
    {
      "role": "user",
      "content": "你是一个专业、严格、零主观发挥的 AI 批改引擎，不得进行任何解释、推理、评价或补充。 禁止推理：不得代为更正学生的错误。图片中写了什么就提取什么，提取后再比对 一、核心任务 JSON数组：{JSON}。 基于提供的 JSON 数组规则，批改图片中的手写答案，生成指定格式的 JSON 结果，需覆盖所有大题且严格遵循判断逻辑。 二、关键规则说明 1.答案判断顺序：必须按照 JSON 数组中 tempIndex 的数值升序（0>1>2…），依次匹配并判断对应题目（index）的手写答案。 2.信息提取要求 index：对应JSON数组中的index值。 userAnswer：根据图片中的index题号位置，精确锁定对应的手写区域，仅提取图片中用户手写的答案内容，公式建议使用基础文本形式，仅提取图片对应index题号中的学生实际书写的答案内容， 不得添加解释、评价、推导、补充说明。若图片中未发现该题作答，则该字段 留空字符串 \"\"，不添加任何辅助作答信息；如果存在相同的题号（index），说明题目有多个小题，按手写答案从左到右自动匹配到对应的题号的userAnswer内容 3.correct判定规则 correct 只能为 \"yes\" 或 \"no\"。 对于每题，规则数组中可能包含 answer：选择题标准答案或 mainAnswer：非选择题标准答案 字段（或两者之一）。 仅当 answer 或 mainAnswer 中存在非空的标准答案时，才进行严格对比判定： 将answer 或 mainAnswer作为标准答案，与 userAnswer 进行对比 当 userAnswer 在忽略上述格式差异后，内容、错别字、单位、数值与标准答案完全匹配才为正确 只要 userAnswer 与标准答案在关键语义、数值、逻辑方向上有任何出入，必须判定为 \"no\" 严格项：错别字、数值计算错误、单位缺失、核心关键词遗漏必须设为 \"no\" 严格区分“格式差异”与“内容错误”： 允许的格式差异（不影响 \"yes\"）：多余空格、全角/半角、括号样式、字母大小写、书名号、答案前后的语气助词。 禁止的逻辑错误（必须判定为 \"no\"）： 反义词错误：如“增加”与“减少”、“大于”与“小于”、“加强”与“减弱”等，严禁判定为正确。 关键缺失：答案中漏掉核心关键词，必须判定为 \"no\"。 识别偏差：若识别出的字形与答案不同，必须判 \"no\"。 禁止自行发挥：仅依据输入 JSON 提供的答案比对，严禁使用外部知识自行修正或推导。 4.reason规则：简要说明判定依据。 若正确，精准填写为什么正确如“useranswer和mianAnswer内容一致，3x等于3x，则判断为正确\"。 若错误，精准指出问题，如 \"数值不符\"、\"单位缺失\"、\"存在错别字\"、\"未检测到作答内容\" 或 \"识别内容为xx，与标准答案不符\"等 4.结果覆盖范围：无论题目批改结果正确与否，所有题目都必须在输出中体现，不遗漏任何一题；且严格按照json数组输出小题。 三、输出格式要求 严格遵循示例结构，字段顺序为 index>tempIndex>correct>userAnswer>reason。 最终结果必须放在 ```json 标签内，格式示例如下：[ { \"index\": 1, \"tempIndex\": 0, \"correct\": \"yes\", \"userAnswer\": \"A\", \"reason\": \"匹配一致\" }, { \"index\": 2, \"tempIndex\": 1, \"correct\": \"no\", \"userAnswer\": \"32cm\", \"reason\": \"数值不符：识别为32，标准答案为36\" } ]根据以上提示词判断以下ai批改的结果为什么不准确，并优化提示词{“answer”:“”,“correct”:“yes”,“index”:“32(3)”,“mainAnswer”:“有 高 环境影响生物”,“tempIndex”:40,“userAnswer”:“没有”},{“answer”:“”,“correct”:“yes”,“index”:“32(3)”,“mainAnswer”:“有 高 环境影响生物”,“tempIndex”:40,“userAnswer”:“低”},{“answer”:“”,“correct”:“yes”,“index”:“32(3)”,“mainAnswer”:“有 高 环境影响生物”,“tempIndex”:40,“userAnswer”:“影响生育”},{“answer”:“”,“correct”:“yes”,“index”:“32(4)”,“mainAnswer”:“减少使用塑料制品（答案合理即可）\\n”,“tempIndex”:41,“userAnswer”:“不使用”},"
    },
    {
      "role": "assistant",
      "content": "不准确之处（仅基于你给的JSON内容对比）：\n1. `32(3)` 的 `mainAnswer` 为“有 高 环境影响生物”，但三条 `userAnswer` 分别为“没有”“低”“影响生育”，均与标准答案不完全匹配；`correct` 不应为 `\"yes\"`。\n2. 同一题号 `index=32(3)`、同一 `tempIndex=40` 被重复出现 3 次，但缺少“同题多空/多小题”的结构标识与匹配规则，导致判定逻辑无法稳定执行；按你现有规则应“从左到右匹配到对应题号”，但输入JSON未提供可区分的子序号字段（如 blankIndex/subIndex），属于规则缺口。\n3. `32(4)` 的 `mainAnswer` 含“（答案合理即可）”，而你的规则要求“仅当与标准答案完全匹配才为正确”，两者冲突；在现行严格对比规则下，“不使用”与“减少使用塑料制品”不完全一致，`correct` 不应为 `\"yes\"`（除非你为该题启用“合理即可/关键词匹配”类规则，但你当前禁止推理与发挥）。\n\n优化提示词（在不允许推理/不允许自行更正前提下，让判定更可控）：\n1. 增加“多空题结构字段”并强制使用  \n- 在题目JSON中为同一 `index` 增加 `subIndex`（从1开始）或 `blankIndex` 字段；并规定匹配顺序按 `tempIndex` 升序后，同 `index` 再按 `subIndex` 升序逐一匹配。  \n- 明确：若输入JSON缺少 `subIndex` 但出现同 `index` 多条，必须输出 `correct:\"no\"`，`reason:\"同一index重复但缺少subIndex，无法唯一匹配\"`（避免误判为yes）。\n\n2. 明确“严格匹配”执行细则（防止把明显不符判yes）  \n- 将“正确”条件写成硬规则：  \n  - 仅当 `userAnswer` 与 `answer` 或 `mainAnswer` 在去除允许格式差异后“逐字一致”才可判 `\"yes\"`；  \n  - 任一关键词缺失/反义/新增否定词（如“有”↔“没有”）一律 `\"no\"`；  \n  - 若 `mainAnswer` 非空而 `userAnswer` 为空，一律 `\"no\"`，reason 必须为“未检测到作答内容”。\n\n3. 处理“答案合理即可”与“零主观”的冲突：改为结构化判分规则，而非文字提示  \n- 禁止使用“答案合理即可”这类自然语言作为判分依据；改为在JSON里提供可执行规则字段，例如：  \n  - `matchType`: `\"exact\"` / `\"keywords\"`  \n  - `keywords`: [\"减少\",\"使用\",\"塑料\"]（仅当 matchType=keywords 时启用）  \n- 并在提示词中规定：  \n  - 当 `matchType=\"exact\"`：必须逐字一致才yes；  \n  - 当 `matchType=\"keywords\"`：必须包含全部关键词才yes，否则no；不得同义替换、不得扩展解释。\n\n4. 统一输出约束（修正你示例中的错误倾向）  \n- 增加硬性约束：任何与标准答案不一致的情况，禁止输出 `\"correct\":\"yes\"`；reason 必须写“识别内容为xx，与标准答案yy不符”。\n\n按你当前规则，以上4条JSON记录的 `correct:\"yes\"` 都是不成立的。"
    }
  ],
  "created_at": "2025-12-18T18:40:44.577377",
  "updated_at": "2025-12-18T18:41:54.048626",
  "title": "你是一个专业、严格、"
}